"use strict";(self.webpackChunkhfixers=self.webpackChunkhfixers||[]).push([[218],{4673:function(a,e,n){n.r(e),n.d(e,{_frontmatter:function(){return o},default:function(){return r}});var t=n(3366),s=(n(7294),n(4983)),p=["components"],o={publish:"no",title:"Building with Gatsby and MDX",slug:"building-with-gatsby-and-mdx",date:"2020-08-26",author:"Adam Goth",preview:"I've long considered trying out blogging. Now, I'm finally giving it a go. Here's how I built my blog using Gatsby and MDX.",categories:"testcats1, testcats2",tags:"testtags1, testtags2",keywords:"one, two"},m={_frontmatter:o};function r(a){var e=a.components,n=(0,t.Z)(a,p);return(0,s.mdx)("wrapper",Object.assign({},m,n,{components:e,mdxType:"MDXLayout"}),(0,s.mdx)("p",null,"I‚Äôve long considered trying out blogging. Now, I‚Äôm finally giving it a go."),(0,s.mdx)("p",null,"This first post is all about how I built this blog feature into my site using\nGatsby and MDX. For background context, I built this site about two years ago\nusing Gatsby. Given that it is essentially a single landing page with various\nsocial links, using Gatsby wasn‚Äôt entirely necessary, but I had been looking for\nan excuse to try it out. Fast forward two years, I‚Äôve decided to make further\nuse of Gatsby and leverage it to add a blog to the site. Here‚Äôs how I went about\nit."),(0,s.mdx)("h3",null,"Overview"),(0,s.mdx)("p",null,"The basic idea behind this project is to use Gatsby plugins and APIs to\ndynamically generate blog pages from MDX files within our project. After our\nproject is configured, adding a new blog post will be as easy as creating a new\nMDX file. The plugins we‚Äôll use include the\n",(0,s.mdx)("a",{parentName:"p",href:"https://www.gatsbyjs.com/plugins/gatsby-source-filesystem/"},"gatsby-source-filesystem"),"\nplugin and\n",(0,s.mdx)("a",{parentName:"p",href:"https://www.gatsbyjs.com/plugins/gatsby-plugin-mdx/"},"gatsby-plugin-mdx")," along\nwith the ",(0,s.mdx)("a",{parentName:"p",href:"https://www.gatsbyjs.com/docs/node-apis/#createPages"},"createPages"),"\nGatsby Node API. After setting those up, we‚Äôll then take a brief look at how to\ntemplate our posts and style our MDX elements. So how does all this work? Let‚Äôs\njump in."),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Note: This blog post assumes basic Gatsby and React knowledge. If you are\nunfamiliar with Gatsby, there is a\n",(0,s.mdx)("a",{parentName:"em",href:"https://www.gatsbyjs.com/tutorial/"},"great tutorial series")," available on\nGatsby‚Äôs site to get you up to speed. Additionally, I will not be setting the\nproject up step by step, but will provide enough information that you could\neasily integrate a similar blog feature into any existing Gatsby project.")),(0,s.mdx)("h3",null,"Setting up"),(0,s.mdx)("p",null,"Our first requirement is the\n",(0,s.mdx)("a",{parentName:"p",href:"https://www.gatsbyjs.com/plugins/gatsby-source-filesystem/"},"gatsby-source-filesystem"),"\nplugin. What this plugin allows us to do is to use our project‚Äôs filesystem as a\nsource for data in our application. We will create a ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"posts")," directory that will\nstore our MDX files. We will then use ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"gatsby-source-filesystem")," to query for\nthose files and convert the content into blog posts."),(0,s.mdx)("p",null,"Our second requirement is going to be the\n",(0,s.mdx)("a",{parentName:"p",href:"https://www.gatsbyjs.com/plugins/gatsby-plugin-mdx/"},"gatsby-plugin-mdx")," plugin.\nThis is the official integration for using MDX within Gatsby. If you are\nunfamiliar with MDX, it is essentially a file format that allows you to combine\nstandard ",(0,s.mdx)("a",{parentName:"p",href:"https://guides.github.com/features/mastering-markdown/"},"Markdown")," with\n",(0,s.mdx)("a",{parentName:"p",href:"https://reactjs.org/docs/introducing-jsx.html"},"JSX"),". I won‚Äôt go into much\ndetail but it is pretty neat, especially if you are a React developer and are\nused to writing JSX. You can read more about ",(0,s.mdx)("a",{parentName:"p",href:"https://mdxjs.com/"},"MDX")," here.\nThis is the file format we‚Äôll use to write our posts."),(0,s.mdx)("p",null,"After\n",(0,s.mdx)("a",{parentName:"p",href:"https://www.gatsbyjs.com/plugins/gatsby-plugin-mdx/#installation"},"installing"),"\nboth plugins, we can configure them in our ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"gatsby-config.js")," file as follows."),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},(0,s.mdx)("pre",{parentName:"div",className:"language-javascript"},(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"module",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"exports ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"..."),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token literal-property property"},"plugins"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token literal-property property"},"resolve"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token template-string"},(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`"),(0,s.mdx)("span",{parentName:"span",className:"token string"},"gatsby-source-filesystem"),(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token literal-property property"},"options"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token literal-property property"},"name"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token template-string"},(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`"),(0,s.mdx)("span",{parentName:"span",className:"token string"},"posts"),(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,s.mdx)("span",{parentName:"code",className:"token literal-property property"},"path"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token template-string"},(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`"),(0,s.mdx)("span",{parentName:"span",className:"token interpolation"},(0,s.mdx)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"${"),"__dirname",(0,s.mdx)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"}")),(0,s.mdx)("span",{parentName:"span",className:"token string"},"/src/posts/"),(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token template-string"},(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`"),(0,s.mdx)("span",{parentName:"span",className:"token string"},"gatsby-plugin-mdx"),(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"The ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"path")," value here is ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"src/posts/")," which is where I will store my MDX files.\nThis configuration tells Gatsby to query this particular directory for data."),(0,s.mdx)("p",null,"Now that we have our plugins configured, our project is ready to query for MDX\nfiles and turn them into blog pages. But just how do we tell it to do that?"),(0,s.mdx)("p",null,"The answer is Gatsby‚Äôs\n",(0,s.mdx)("a",{parentName:"p",href:"https://www.gatsbyjs.com/docs/node-apis/#createPages"},"createPages")," API. If you\nare familiar with Gatsby, you know that by default, Gatsby core creates pages\nfor any React files that it finds in the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"src/pages/")," directory. Similarly, this\nAPI allows us to instruct Gatsby to create additional pages based on the\ncriteria we specify. When all is said and done, our ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"gatsby-node.js")," file\n(located in the project‚Äôs root directory) will look as follows:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},(0,s.mdx)("pre",{parentName:"div",className:"language-javascript"},(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"const")," path ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"require"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"path"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n\nexports",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function-variable function"},"createPages")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"async")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token parameter"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{")," graphql",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," actions",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," reporter ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// destructure the createPage function from the actions object"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"const")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{")," createPage ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," actions\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"const")," result ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"await")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"graphql"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token template-string"},(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`"),(0,s.mdx)("span",{parentName:"span",className:"token string"},"\n    query {\n      allMdx {\n        edges {\n          node {\n            id\n            frontmatter {\n              slug\n            }\n          }\n        }\n      }\n    }\n  "),(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"if")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"result",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"errors",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    reporter",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"panicOnBuild"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},"'üö®  ERROR: Loading \"createPages\" query'"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// create blog post pages"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"const")," posts ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," result",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"data",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"allMdx",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"edges\n\n  ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// call `createPage` for each result"),"\n  posts",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"forEach"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token parameter"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{")," node ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," index"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"createPage"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token literal-property property"},"path"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," node",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"frontmatter",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"slug",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token literal-property property"},"component"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," path",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"resolve"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token template-string"},(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`"),(0,s.mdx)("span",{parentName:"span",className:"token string"},"./src/components/posts-page-layout.js"),(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// you can use the values in this context in"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// our page layout component"),"\n      ",(0,s.mdx)("span",{parentName:"code",className:"token literal-property property"},"context"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{")," ",(0,s.mdx)("span",{parentName:"code",className:"token literal-property property"},"id"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," node",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"id ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"In the code above, we first query our filesystem for MDX files starting on\nline 7. These will be located in the directory we specified in our earlier\nconfiguration. Each node in our query results is an MDX file that was found."),(0,s.mdx)("p",null,"Then starting on line 30, for each MDX file (or ‚Äúpost‚Äù), we call ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"createPage"),",\npassing it a ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"path")," value which will serve as our post‚Äôs URL, a ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"component"),"\nvalue which will be used as our page template, and a ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"context")," object which can\nhold additional data to be made available to us within our template component."),(0,s.mdx)("p",null,"You may have noticed that on line 13, within each file result, we expect\nsomething called ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"frontmatter"),".\n",(0,s.mdx)("a",{parentName:"p",href:"https://www.gatsbyjs.com/docs/adding-markdown-pages/#frontmatter-for-metadata-in-markdown-files"},"Frontmatter"),"\nis a set of key-value pairs that can be used to provide additional data about\nthe file. In our case, we‚Äôre going to use frontmatter for storing information\nabout the blog, including details such as our posts title, slug, date, author,\nand more. Frontmatter is denoted in a Markdown file by three dashes at the start\nand end of a block."),(0,s.mdx)("h3",null,"Creating posts from MDX files"),(0,s.mdx)("p",null,"Now that the project is configured to dynamically create pages from MDX files,\nwe need to create our MDX file within the directory we specified our\n",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"gatsby-source-filesystem")," configuration (",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"src/posts/"),"). If you are using a\n",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"slug")," frontmatter key-value pair for your ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"path")," value as we are, the name of\nthe file is not so important, as long as it is an MDX file. For consistency, I\nwill give it the same name as the slug\n(",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"src/posts/building-a-blog-with-gatsby-and-mdx.mdx"),"). Make special note of the\nfrontmatter at the top of the file, located between the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"---")," lines. The ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"slug"),"\nvalue is what will make your post available at ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"http://<yourdomain>/<slug>"),". We\nwill make use of the rest of the frontmatter data in our page template."),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"markdown"},(0,s.mdx)("pre",{parentName:"div",className:"language-markdown"},(0,s.mdx)("code",{parentName:"pre",className:"language-markdown"},(0,s.mdx)("span",{parentName:"code",className:"token front-matter-block"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"---"),"\n",(0,s.mdx)("span",{parentName:"span",className:"token front-matter yaml language-yaml"},"title: Building a blog with Gatsby and MDX\nslug: building-a-blog-with-gatsby-and-mdx\nauthor: Adam Goth"),"\n",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"---")),"\n\nBlog content here..."))),(0,s.mdx)("p",null,"The last missing piece that our ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"createPages")," function expects is the template\ncomponent that we specified as the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"component")," value in our ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"createPage")," call.\nThe value we passed is ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"./src/components/posts-page-layout.js"),", so let‚Äôs go\nahead and create that file."),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"jsx"},(0,s.mdx)("pre",{parentName:"div",className:"language-jsx"},(0,s.mdx)("code",{parentName:"pre",className:"language-jsx"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," React ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"from")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"react"'),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{")," graphql ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"from")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"gatsby"'),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{")," MDXProvider ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"from")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"@mdx-js/react"'),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{")," MDXRenderer ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"from")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"gatsby-plugin-mdx"'),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," Layout ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"from")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},"'@szcomps/layout'"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," components ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"from")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},"'@szcomps/sz/mdx'"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"export")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"default")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"function")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"PageTemplate"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token parameter"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{")," ",(0,s.mdx)("span",{parentName:"span",className:"token literal-property property"},"data"),(0,s.mdx)("span",{parentName:"span",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{")," mdx ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}")," ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Layout")),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token plain-text"},"\n      "),(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"div")," ",(0,s.mdx)("span",{parentName:"span",className:"token attr-name"},"style"),(0,s.mdx)("span",{parentName:"span",className:"token script language-javascript"},(0,s.mdx)("span",{parentName:"span",className:"token script-punctuation punctuation"},"="),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{")," ",(0,s.mdx)("span",{parentName:"span",className:"token literal-property property"},"padding"),(0,s.mdx)("span",{parentName:"span",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"span",className:"token string"},'"0 1rem"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token literal-property property"},"marginBottom"),(0,s.mdx)("span",{parentName:"span",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"span",className:"token string"},'"10rem"')," ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}")),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token plain-text"},"\n        "),(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"h1"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"mdx",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"frontmatter",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"title",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"h1"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token plain-text"},"\n        "),(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"h4"),"\n          ",(0,s.mdx)("span",{parentName:"span",className:"token attr-name"},"style"),(0,s.mdx)("span",{parentName:"span",className:"token script language-javascript"},(0,s.mdx)("span",{parentName:"span",className:"token script-punctuation punctuation"},"="),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{"),"\n            ",(0,s.mdx)("span",{parentName:"span",className:"token literal-property property"},"color"),(0,s.mdx)("span",{parentName:"span",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"span",className:"token string"},'"gray"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},","),"\n            ",(0,s.mdx)("span",{parentName:"span",className:"token literal-property property"},"fontWeight"),(0,s.mdx)("span",{parentName:"span",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"span",className:"token string"},'"normal"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},","),"\n          ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}")),"\n        ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),(0,s.mdx)("span",{parentName:"code",className:"token template-string"},(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`"),(0,s.mdx)("span",{parentName:"span",className:"token interpolation"},(0,s.mdx)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"${"),"mdx",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"frontmatter",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"date",(0,s.mdx)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"}")),(0,s.mdx)("span",{parentName:"span",className:"token string"}," by "),(0,s.mdx)("span",{parentName:"span",className:"token interpolation"},(0,s.mdx)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"${"),"mdx",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"frontmatter",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"."),"author",(0,s.mdx)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"}")),(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"h4"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token plain-text"},"\n        "),(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"MDXProvider"))," ",(0,s.mdx)("span",{parentName:"span",className:"token attr-name"},"components"),(0,s.mdx)("span",{parentName:"span",className:"token script language-javascript"},(0,s.mdx)("span",{parentName:"span",className:"token script-punctuation punctuation"},"="),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{"),"components",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}")),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token plain-text"},"\n          "),(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"MDXRenderer")),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"mdx",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"body",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"MDXRenderer")),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token plain-text"},"\n        "),(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"MDXProvider")),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token plain-text"},"\n      "),(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"div"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token plain-text"},"\n    "),(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),(0,s.mdx)("span",{parentName:"span",className:"token class-name"},"Layout")),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"export")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"const")," pageQuery ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," graphql",(0,s.mdx)("span",{parentName:"code",className:"token template-string"},(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`"),(0,s.mdx)("span",{parentName:"span",className:"token string"},"\n  query BlogPostQuery($id: String) {\n    mdx(id: { eq: $id }) {\n      id\n      body\n      frontmatter {\n        title\n        date\n        author\n      }\n    }\n  }\n"),(0,s.mdx)("span",{parentName:"span",className:"token template-punctuation string"},"`"))))),(0,s.mdx)("p",null,"There are a few things to make note of here. If you are familiar with Gatsby and\nReact, nothing should look too out of the ordinary here. Starting on line 27, we\nare using a graphQL query called ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"BlogPostQuery")," to query our filesystem for an\nMDX file with the matching ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"id"),". The ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"id")," is generated in our ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"createPages"),"\nfunction and is passed via the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"context")," parameter to our page template\ncomponent. From the results, we get our ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"body")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"frontmatter")," data for the\nblog post from our MDX file. We can then access the query data in our component\nvia our component‚Äôs props (see line 8 above)."),(0,s.mdx)("h3",null,"Styling MDX content"),(0,s.mdx)("p",null,"If we wanted to render the body and frontmatter data as plain HTML elements\nwithin our JSX, we could go ahead and do that within our ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"PageTemplate"),"\ncomponent above. In fact, that is how the title is being rendered on line 12.\nBut ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"@mdx-js/react")," and ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"gatsby-plugin-mdx")," provide us with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"<MDXProvider />"),"\nand ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"<MDXRenderer />")," components. These components allow us to customize the\nstyle of our MDX content. Let‚Äôs take a look at how."),(0,s.mdx)("p",null,"In the above code block, we‚Äôre importing ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"components")," from ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"'./mdxComponents'"),"\nand passing it to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"<MDXProvider />"),". This ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"components")," prop on ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"<MDXProvider />"),"\nallows us to pass customized components for each type of Markdown element we may\nexpect to render."),(0,s.mdx)("p",null,"For example, in Markdown and MDX, a standard line of text gets rendered as a\nparagraph (",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"<p>"),") element. But for my posts, I want my paragraph elements to\ncontain a certain line height different from the default. I also want to provide\nmy own margin and width properties. The way this can be accomplished is by\ncreating a custom ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"paragraph")," MDX component and passing it into the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"components"),"\nprop to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"MDXProvider />"),"."),(0,s.mdx)("p",null,"In my ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"src/components/mdxComponents")," directory, I have a ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"paragraph.js")," file\nthat looks as follows:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"jsx"},(0,s.mdx)("pre",{parentName:"div",className:"language-jsx"},(0,s.mdx)("code",{parentName:"pre",className:"language-jsx"},(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"import")," React ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"from")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"react"'),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"export")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"default")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token parameter"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{")," children ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}")),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"<"),"p")," ",(0,s.mdx)("span",{parentName:"span",className:"token attr-name"},"style"),(0,s.mdx)("span",{parentName:"span",className:"token script language-javascript"},(0,s.mdx)("span",{parentName:"span",className:"token script-punctuation punctuation"},"="),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"{")," ",(0,s.mdx)("span",{parentName:"span",className:"token literal-property property"},"lineHeight"),(0,s.mdx)("span",{parentName:"span",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"span",className:"token string"},'"1.7"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token literal-property property"},"maxWidth"),(0,s.mdx)("span",{parentName:"span",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"span",className:"token string"},'"750px"'),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"span",className:"token literal-property property"},"margin"),(0,s.mdx)("span",{parentName:"span",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"span",className:"token string"},'"30px auto"')," ",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"}")),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),(0,s.mdx)("span",{parentName:"code",className:"token plain-text"},"\n    "),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"children",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token plain-text"},"\n  "),(0,s.mdx)("span",{parentName:"code",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token tag"},(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},"</"),"p"),(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},">")),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")))),(0,s.mdx)("p",null,"In the same ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"src/components/mdxComponents")," directory, I also have an ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"index.js"),"\nfile which exports the component from ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"paragraph.js")," as well as all the other\nelements I have created customized MDX components for. I then import that as an\nobject named ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"components")," and pass it to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"<MDXProvider />"),". The ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"body")," of our\nMDX file data is then passed as the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"children")," prop to ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"<MDXRenderer />")," on line\n20, which then makes use of these components when it renders the MDX content. In\naddition to the paragraph element, a full list of other elements that can be\ncustomized in MDX can be found\n",(0,s.mdx)("a",{parentName:"p",href:"https://www.gatsbyjs.com/docs/mdx/customizing-components/"},"here"),"."),(0,s.mdx)("h3",null,"Wrapping up"),(0,s.mdx)("p",null,"That concludes the process for how I‚Äôve built out a blog feature, as well as the\nvery blog post you are reading. Using Gatsby plugins ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"gatsby-source-filesystem"),"\nand ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"gatsby-plugin-mdx"),", along with Gatsby‚Äôs ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"createPages")," API, we are able to\nuse MDX files to dynamically generate pages for blog posts. Going forward, for\nmy next post, all I will need to do is write the new MDX file and add it to\n",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"src/posts/"),". I eventually plan on adding additional features such as tags,\ncategories, search, and who knows what else. So if you are interested in that as\nwell, stay tuned!"),(0,s.mdx)("p",null,"If you are interested in viewing the source code for the project, the\n",(0,s.mdx)("a",{parentName:"p",href:"https://github.com/adamgoth/adamgoth-gatsby"},"repository")," for my site is\npublicly available on Github."),(0,s.mdx)("p",null,"If you enjoyed this post or found it useful, please consider\n",(0,s.mdx)("a",{parentName:"p",href:"https://twitter.com/intent/tweet?url=https%3A%2F%2Fwww.adamgoth.com%2Fbuilding-a-blog-with-gatsby-and-mdx"},"sharing it on Twitter"),"."),(0,s.mdx)("p",null,"If you want to stay updated on new posts,\n",(0,s.mdx)("a",{parentName:"p",href:"https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fpublish.twitter.com%2F%3FbuttonType%3DFollowButton%26query%3Dhttps%253A%252F%252Ftwitter.com%252Finit_adam%26widget%3DButton&ref_src=twsrc%5Etfw&region=follow_link&screen_name=init_adam&tw_p=followbutton"},"follow me on Twitter"),"."),(0,s.mdx)("p",null,"If you have any questions, comments, or just want to say hello,\n",(0,s.mdx)("a",{parentName:"p",href:"https://twitter.com/messages/compose?recipient_id=33618361"},"send me a message"),"."),(0,s.mdx)("p",null,"Thanks for reading!"))}r.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-b-building-a-blog-with-gatsby-and-mdx-mdx-079018f81559a742c563.js.map