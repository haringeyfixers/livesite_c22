"use strict";(self.webpackChunkhfixers=self.webpackChunkhfixers||[]).push([[401],{8791:function(e,a,n){n.r(a),n.d(a,{_frontmatter:function(){return p},default:function(){return r}});var t=n(3366),s=(n(7294),n(4983)),o=["components"],p={publish:"yes",title:"Running a serverless API using Netlify Functions",slug:"running-a-serverless-api-using-netlify-functions",date:"2020-11-29",author:"Adam Goth",preview:"Over the last few years, serverless applications have been growing in popularity. There are many use cases in which a serverless solution is more practical and more convenient than the traditional server solution. In this post, we'll look at setting up a serverless Express.js API using Netlify functions.",categories:"testcats1, testcats2",tags:"testtags1,testtags2",keywords:"one, two"},m={_frontmatter:p};function r(e){var a=e.components,n=(0,t.Z)(e,o);return(0,s.mdx)("wrapper",Object.assign({},m,n,{components:a,mdxType:"MDXLayout"}),(0,s.mdx)("p",null,"Over the last few years, serverless applications have been growing in\npopularity. There are many use cases in which a serverless solution is more\npractical and more convenient than the traditional server solution. In this\npost, we’ll look at setting up a serverless Express.js API using Netlify\nfunctions."),(0,s.mdx)("h3",null,"Overview"),(0,s.mdx)("p",null,"Before we dive into the code for this demo application, let’s talk about a few\nconcepts at a high-level."),(0,s.mdx)("h3",null,"Serverless"),(0,s.mdx)("p",null,"“Serverless” is a term that is used for what can generally be thought of as a\nmethod of providing backend services on an as-used basis. Rather than setting up\nspecific infrastructure, or a server, to provide the backend services, you can\nutilize a “serverless” provider to handle this functionality instead. This was\nfirst popularized by AWS Lambda but is now a service offered by many other\ncompanies as well, including the one we’ll be looking at today, Netlify."),(0,s.mdx)("h3",null,"AWS Lambda"),(0,s.mdx)("p",null,"As mentioned above, ",(0,s.mdx)("a",{parentName:"p",href:"https://aws.amazon.com/lambda"},"AWS Lambda")," is the most\npopular provider of serverless computing. Here’s how AWS Lamba describes itself\nin its own words:"),(0,s.mdx)("blockquote",null,(0,s.mdx)("p",{parentName:"blockquote"},"AWS Lambda lets you run code without provisioning or managing servers. You pay\nonly for the compute time you consume.")),(0,s.mdx)("blockquote",null,(0,s.mdx)("p",{parentName:"blockquote"},"With Lambda, you can run code for virtually any type of application or backend\nservice - all with zero administration. Just upload your code and Lambda takes\ncare of everything required to run and scale your code with high availability.\nYou can set up your code to automatically trigger from other AWS services or\ncall it directly from any web or mobile app.")),(0,s.mdx)("p",null,"As great as this sounds (and it really is great), setting up an AWS lambda\nfunction can be a tedious process, requiring quite a bit of configuration that\ncan be easily confusing to someone is who new to serverless functions. If you’re\ncurious to see for yourself, here’s an\n",(0,s.mdx)("a",{parentName:"p",href:"https://docs.aws.amazon.com/toolkit-for-eclipse/v1/user-guide/lambda-tutorial.html"},"example tutorial"),"\ndirectly from the AWS docs. But not to worry, that’s why we’re here to talk\nabout Netlify Functions."),(0,s.mdx)("h3",null,"Netlify Functions"),(0,s.mdx)("p",null,(0,s.mdx)("a",{parentName:"p",href:"https://www.netlify.com/products/functions"},"Netlify Functions")," greatly\nsimplifies the process for running serverless functions. Using Netlify\nFunctions, we can simply write our lambda function and drop it into the\nfunctions folder of our Netlify-hosted application. Behind the scenes, Netlify\nhandles the interaction with AWS for us. We don’t even need an AWS account.\nEvery Netlify account is set up for this feature out of the box. There’s no\nsetup, servers, or ops required."),(0,s.mdx)("p",null,"Let’s see what this looks like in code."),(0,s.mdx)("h3",null,"The application"),(0,s.mdx)("p",null,"The code for this demo can be found\n",(0,s.mdx)("a",{parentName:"p",href:"https://github.com/adamgoth/netlify-serverless-demo"},"here"),". Since the purpose\nof this post is to show how to set up a serverless API, rather than do anything\nspecific with the API, this particular demo application will serve up an\nextremely basic API with two endpoints that don’t do much. I will assume the\nreader has some basic familiarity with ",(0,s.mdx)("a",{parentName:"p",href:"https://expressjs.com/"},"Express.js")," and\nNode as we will be using these to build the API."),(0,s.mdx)("p",null,"If we take a look at our package dependencies, we have just five packages:"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"nodemon")," is used to automatically restart our server while we’re working on it\nin development"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"express")," gives us our API framework"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"body-parser")," is middleware that allows us the parse our request bodies"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"serverless-http")," allows us to wrap our API for serverless use"),(0,s.mdx)("p",null,(0,s.mdx)("code",{parentName:"p",className:"language-text"},"netlify-lambda")," is a tool that helps us build our application code so that it\ncan be consumed correctly by Netlify using Netlify Functions"),(0,s.mdx)("p",null,"The other thing to note in the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"package.json")," file are the two scripts. We have\n",(0,s.mdx)("code",{parentName:"p",className:"language-text"},'"start": "nodemon server-local.js"')," which is used for development, and\n",(0,s.mdx)("code",{parentName:"p",className:"language-text"},'"build": "netlify-lambda build express"')," which is used to build and deploy."),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},(0,s.mdx)("pre",{parentName:"div",className:"language-javascript"},(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"  ",(0,s.mdx)("span",{parentName:"code",className:"token string-property property"},'"scripts"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token string-property property"},'"build"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"netlify-lambda build express"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token string-property property"},'"start"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"nodemon server-local.js"'),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")))),(0,s.mdx)("p",null,"The ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"start")," script is fairly straight forward, it will just execute our\n",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"server-local.js")," file which in turn is calling ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"express/server.js"),". This works\nfor local development, but we need to do additional work in our ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"build")," script\nfor the application to work as a serverless function once deployed to Netlify.\nIn the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"build")," script, we call\n",(0,s.mdx)("a",{parentName:"p",href:"https://github.com/netlify/netlify-lambda#netlify-lambda-build"},(0,s.mdx)("code",{parentName:"a",className:"language-text"},"netlify-lambda build")),"\nwhich takes a source folder as an argument (",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"express")," in our case) and outputs\nit to a built folder. The built folder is where Netlify will look for our\nserverless functions. We have a couple of options for how we specify this. We\ncould specify the designated folder within Netlify’s application settings using\nNetlify’s web app, or within our application code, we can specify the designated\nfolder with a ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"netlify.toml")," configuration file. In our case, we’ll use a\nconfiguration file that lives in our root directory that looks like this:"),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},(0,s.mdx)("pre",{parentName:"div",className:"language-javascript"},(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// netlify.toml"),"\n\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},";"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"["),"build",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"]"),"\ncommand ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"npm install && npm run build"'),"\nfunctions ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"functions"')))),(0,s.mdx)("p",null,"With our scripts and build configuration accounted for, let’s take a look at the\ncore of the application."),(0,s.mdx)("p",null,"The core of the application lives in the ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"express/server.js")," file, and in our\ncase, is just 29 lines."),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},(0,s.mdx)("pre",{parentName:"div",className:"language-javascript"},(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},(0,s.mdx)("span",{parentName:"code",className:"token string"},'"use strict"'),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"const")," express ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"require"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"express"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"const")," serverless ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"require"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"serverless-http"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"const")," app ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"express"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"const")," bodyParser ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"require"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"body-parser"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"const")," router ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," express",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"Router"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n\napp",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"use"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"bodyParser",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"json"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\napp",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"use"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/.netlify/functions/server"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," router",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// path must route to lambda"),"\napp",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"use"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," router",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n\nrouter",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"get"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token parameter"},"req",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," res"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  res",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"writeHead"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"200"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{")," ",(0,s.mdx)("span",{parentName:"code",className:"token string-property property"},'"Content-Type"'),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"text/html"')," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n  res",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"write"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"<h1>Up and running</h1>"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n  res",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"end"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n\nrouter",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"post"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/doSomething"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"async")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token parameter"},"req",(0,s.mdx)("span",{parentName:"span",className:"token punctuation"},",")," res"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"try")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,s.mdx)("span",{parentName:"code",className:"token comment"},"// maybe do some database interaction or third-party API call here!"),"\n    res",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"status"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"200"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"send"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{")," ",(0,s.mdx)("span",{parentName:"code",className:"token literal-property property"},"data"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"success"')," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,s.mdx)("span",{parentName:"code",className:"token keyword"},"catch")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"err",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    console",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"log"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"err",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n    res",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"status"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token number"},"400"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"send"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"{")," ",(0,s.mdx)("span",{parentName:"code",className:"token literal-property property"},"error"),(0,s.mdx)("span",{parentName:"code",className:"token operator"},":")," ",(0,s.mdx)("span",{parentName:"code",className:"token string"},'"bad request"')," ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"}"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")"),"\n\nmodule",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"exports ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," app\nmodule",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"exports",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"handler ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"serverless"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"app",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")))),(0,s.mdx)("p",null,"If you’ve ever worked with Express.js, this should look pretty familiar to you.\nWe have two endpoints, one ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"GET")," endpoint at ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"/")," and one ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"POST")," endpoint at\n",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"/doSomething"),"."),(0,s.mdx)("p",null,"These endpoints don’t do much, but you could do just about anything you would\nnormally do with ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"GET")," or ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"POST")," endpoints here. Hit a third-party API, connect\nto a database, fire off some sort of transaction, etc."),(0,s.mdx)("p",null,"The two lines in the application that are specific to using Netlify’s serverless\nfunctions are line 9 and line 29."),(0,s.mdx)("p",null,"As we specified in our ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"netlify.toml")," configuration file, our function code is\ngoing to live at ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"./netlify/functions/server"),". So we will tell our express app\non line 9 to use our ",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"router")," object anytime a request is sent to this server."),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},(0,s.mdx)("pre",{parentName:"div",className:"language-javascript"},(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"app",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),(0,s.mdx)("span",{parentName:"code",className:"token function"},"use"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),(0,s.mdx)("span",{parentName:"code",className:"token string"},'"/.netlify/functions/server"'),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},",")," router",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")))),(0,s.mdx)("p",null,"Lastly, on line 29, we will utilize the\n",(0,s.mdx)("a",{parentName:"p",href:"https://github.com/dougmoscrop/serverless-http"},(0,s.mdx)("code",{parentName:"a",className:"language-text"},"serverless-http"))," package to\nwrap our application up for serverless use. This means our application can work\nas expected without any HTTP server, ports, or sockets."),(0,s.mdx)("div",{className:"gatsby-highlight","data-language":"javascript"},(0,s.mdx)("pre",{parentName:"div",className:"language-javascript"},(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"module",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"exports",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"."),"handler ",(0,s.mdx)("span",{parentName:"code",className:"token operator"},"=")," ",(0,s.mdx)("span",{parentName:"code",className:"token function"},"serverless"),(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},"("),"app",(0,s.mdx)("span",{parentName:"code",className:"token punctuation"},")")))),(0,s.mdx)("p",null,"With that, the application is all set to\n",(0,s.mdx)("a",{parentName:"p",href:"https://docs.netlify.com/site-deploys/overview/#deploy-summary"},"deploy to Netlify"),".\nIf you’ve never deployed on Netlify before, you’ll be amazed at how simple it\nis. This post won’t go into details but it isn’t much more than authenticating\nyour GitHub account and selecting the repo and branch to deploy. Once the\napplication is deployed, you can start accessing the endpoints we created at\n",(0,s.mdx)("code",{parentName:"p",className:"language-text"},"<your site URL>/.netlify/functions/server/<your endpoint>"),". We now have a basic\nyet fully-functioning API, without having to run or provision a dedicated and\nseparate server!"),(0,s.mdx)("h3",null,"Wrapping up"),(0,s.mdx)("p",null,"Hopefully you were able to follow along in creating this Netlify serverless\nfunction. Serverless computing is still a developing and evolving technology but\nits popularity continues to grow as more developers find it more suitable to\ntheir needs than traditional server applications."),(0,s.mdx)("p",null,"The particular use case that led me to using Netlify functions is that I needed\nto make a third-party API call from my client application that required a\nprivate API key in the header. With just client-side code, there is no good way\nto keep your private API key private. I decided I needed a server to proxy the\nrequest through, but I didn’t want to create and dedicate an entire server just\nto pass one small API request through. So this ended up being a perfect\nsolution. Now that I know how convenient and simple this can be, I will be\nlooking for more opportunities to utilize Netlify Functions."),(0,s.mdx)("p",null,"For more technical information regarding the usage and implementation of Netlify\nFunctions, be sure to visit\n",(0,s.mdx)("a",{parentName:"p",href:"https://docs.netlify.com/functions/overview/#manage-your-serverless-functions"},"the docs"),"."),(0,s.mdx)("p",null,"If you enjoyed this post or found it useful, please consider\n",(0,s.mdx)("a",{parentName:"p",href:"https://twitter.com/intent/tweet?url=https%3A%2F%2Fwww.adamgoth.com%2Frunning-a-serverless-api-using-netlify-functions"},"sharing it on Twitter"),"."),(0,s.mdx)("p",null,"If you want to stay updated on new posts,\n",(0,s.mdx)("a",{parentName:"p",href:"https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fpublish.twitter.com%2F%3FbuttonType%3DFollowButton%26query%3Dhttps%253A%252F%252Ftwitter.com%252Finit_adam%26widget%3DButton&ref_src=twsrc%5Etfw&region=follow_link&screen_name=init_adam&tw_p=followbutton"},"follow me on Twitter"),"."),(0,s.mdx)("p",null,"If you have any questions, comments, or just want to say hello,\n",(0,s.mdx)("a",{parentName:"p",href:"https://twitter.com/messages/compose?recipient_id=33618361"},"send me a message"),"."),(0,s.mdx)("p",null,"Thanks for reading!"))}r.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-b-serverless-api-with-netlify-functions-mdx-57469846c1f2707521ce.js.map